class DataBaseFiles {
    constructor() {
        this.files = [
            {
              "guid": "13908e7b-76b5-4ccd-8d6a-84ae6eb36b58",
              "isDeleted": true,
              "sizeBytes": 34046796,
              "name": "Maineland",
              "sharing": 2,
              "lastAccessedDate": "2018-03-01T07:49:42 -02:00"
            },
            {
              "guid": "65da7a67-5a9f-4c22-96f1-b83c6def9383",
              "isDeleted": false,
              "sizeBytes": 14514008,
              "name": "Stockpost",
              "sharing": 3,
              "lastAccessedDate": "2018-03-08T12:13:25 -02:00"
            },
            {
              "guid": "775c1dd3-e48c-4c5a-91e6-2b1ad0f682f2",
              "isDeleted": false,
              "sizeBytes": 23253488,
              "name": "Chorizon",
              "sharing": 3,
              "lastAccessedDate": "2018-03-06T04:40:03 -02:00"
            },
            {
              "guid": "44dbdcd1-c89d-45ba-830a-bf4a1628e346",
              "isDeleted": true,
              "sizeBytes": 12505794,
              "name": "Puria",
              "sharing": 2,
              "lastAccessedDate": "2018-03-02T11:17:16 -02:00"
            },
            {
              "guid": "be1013eb-ec2f-4979-9067-01a05d87f230",
              "isDeleted": false,
              "sizeBytes": 33064545,
              "name": "Podunk",
              "sharing": 1,
              "lastAccessedDate": "2018-03-06T03:26:02 -02:00"
            },
            {
              "guid": "101ee52c-bab6-4875-9f5e-ced87e7be9b1",
              "isDeleted": false,
              "sizeBytes": 64947957,
              "name": "Lyria",
              "sharing": 1,
              "lastAccessedDate": "2018-03-01T09:39:12 -02:00"
            },
            {
              "guid": "90058277-61a4-4237-90f1-e84ea432c370",
              "isDeleted": true,
              "sizeBytes": 18946720,
              "name": "Waterbaby",
              "sharing": 3,
              "lastAccessedDate": "2018-03-08T05:02:53 -02:00"
            },
            {
              "guid": "2256987a-9c38-4ffa-aed4-549935058601",
              "isDeleted": true,
              "sizeBytes": 35129859,
              "name": "Recrisys",
              "sharing": 2,
              "lastAccessedDate": "2018-03-03T11:24:58 -02:00"
            },
            {
              "guid": "d0a60347-7394-4404-a84f-81773d85893a",
              "isDeleted": true,
              "sizeBytes": 17027473,
              "name": "Exospace",
              "sharing": 3,
              "lastAccessedDate": "2018-03-06T01:24:13 -02:00"
            },
            {
              "guid": "fbeff4ce-4709-4189-8ab0-43d7c9ff2226",
              "isDeleted": false,
              "sizeBytes": 33534724,
              "name": "Imaginart",
              "sharing": 1,
              "lastAccessedDate": "2018-03-07T04:36:30 -02:00"
            },
            {
              "guid": "1ca96640-5123-4510-bb9d-77f3dc80431a",
              "isDeleted": true,
              "sizeBytes": 16648605,
              "name": "Kidstock",
              "sharing": 1,
              "lastAccessedDate": "2018-03-02T11:06:40 -02:00"
            },
            {
              "guid": "01b5ec25-a7e3-4a34-bb86-bb1c0aeaf7f1",
              "isDeleted": true,
              "sizeBytes": 92286533,
              "name": "Emtrac",
              "sharing": 2,
              "lastAccessedDate": "2018-03-08T06:30:25 -02:00"
            },
            {
              "guid": "e69f34d4-e3dd-4188-930a-e5359e7644f6",
              "isDeleted": false,
              "sizeBytes": 18642004,
              "name": "Geeknet",
              "sharing": 2,
              "lastAccessedDate": "2018-03-06T03:11:36 -02:00"
            },
            {
              "guid": "a2281ee7-d07f-4f79-a4be-162a3e1d9fae",
              "isDeleted": true,
              "sizeBytes": 41384309,
              "name": "Geoform",
              "sharing": 3,
              "lastAccessedDate": "2018-03-04T02:42:40 -02:00"
            },
            {
              "guid": "17db86f6-53cb-42f1-9113-6cab8ddd74b6",
              "isDeleted": false,
              "sizeBytes": 13881328,
              "name": "Honotron",
              "sharing": 1,
              "lastAccessedDate": "2018-03-05T06:33:17 -02:00"
            },
            {
              "guid": "f4426962-4667-4486-99cb-0cab6a2bbe86",
              "isDeleted": true,
              "sizeBytes": 68236800,
              "name": "Translink",
              "sharing": 3,
              "lastAccessedDate": "2018-03-12T06:04:15 -02:00"
            },
            {
              "guid": "b120b5de-1e24-421c-bf8f-ce0ed8ff403e",
              "isDeleted": true,
              "sizeBytes": 23215611,
              "name": "Koffee",
              "sharing": 1,
              "lastAccessedDate": "2018-03-08T02:34:11 -02:00"
            },
            {
              "guid": "3005340e-5a3b-4e19-97cc-b36655e022cc",
              "isDeleted": true,
              "sizeBytes": 53554326,
              "name": "Makingway",
              "sharing": 1,
              "lastAccessedDate": "2018-03-07T10:07:48 -02:00"
            },
            {
              "guid": "f7b6f85f-f10d-48af-9333-e5e0fb9b1bd3",
              "isDeleted": false,
              "sizeBytes": 45441171,
              "name": "Zerology",
              "sharing": 1,
              "lastAccessedDate": "2018-03-07T01:53:06 -02:00"
            },
            {
              "guid": "8f7ab779-f28d-4dc5-8cdf-4a1b00198377",
              "isDeleted": false,
              "sizeBytes": 57571278,
              "name": "Hometown",
              "sharing": 1,
              "lastAccessedDate": "2018-03-09T09:19:44 -02:00"
            },
            {
              "guid": "0d7fd06e-0133-4688-94e6-27c19855fd49",
              "isDeleted": true,
              "sizeBytes": 94054820,
              "name": "Octocore",
              "sharing": 3,
              "lastAccessedDate": "2018-03-03T01:57:09 -02:00"
            },
            {
              "guid": "b413ed68-82e2-4a0c-ad84-d4db07ec08e4",
              "isDeleted": false,
              "sizeBytes": 16736252,
              "name": "Futuris",
              "sharing": 1,
              "lastAccessedDate": "2018-03-02T12:40:16 -02:00"
            },
            {
              "guid": "4633fcc0-1fa7-47b5-8903-89419ecbdc36",
              "isDeleted": false,
              "sizeBytes": 93239901,
              "name": "Tersanki",
              "sharing": 1,
              "lastAccessedDate": "2018-03-02T12:43:54 -02:00"
            },
            {
              "guid": "e36b7356-513b-4ede-8620-f2a120cc8b16",
              "isDeleted": true,
              "sizeBytes": 28355518,
              "name": "Kozgene",
              "sharing": 3,
              "lastAccessedDate": "2018-03-05T04:39:28 -02:00"
            },
            {
              "guid": "2ddbe176-e07b-4795-8968-c5d0e0c89cbf",
              "isDeleted": true,
              "sizeBytes": 21277228,
              "name": "Remotion",
              "sharing": 2,
              "lastAccessedDate": "2018-03-08T05:24:01 -02:00"
            },
            {
              "guid": "078d3b9e-b05c-43a5-82cb-946ee13f4bcf",
              "isDeleted": true,
              "sizeBytes": 34860904,
              "name": "Datagene",
              "sharing": 3,
              "lastAccessedDate": "2018-03-07T08:10:56 -02:00"
            },
            {
              "guid": "c965f59a-07c0-4fc9-9500-305963735af6",
              "isDeleted": true,
              "sizeBytes": 51038301,
              "name": "Satiance",
              "sharing": 3,
              "lastAccessedDate": "2018-03-05T02:23:02 -02:00"
            },
            {
              "guid": "18771b7d-8082-411c-8987-9c09bfd1611e",
              "isDeleted": false,
              "sizeBytes": 24757464,
              "name": "Gonkle",
              "sharing": 3,
              "lastAccessedDate": "2018-03-09T03:57:32 -02:00"
            },
            {
              "guid": "857c5ab7-b11f-4f76-bd69-4d2045039370",
              "isDeleted": true,
              "sizeBytes": 96630621,
              "name": "Jimbies",
              "sharing": 3,
              "lastAccessedDate": "2018-03-03T09:56:36 -02:00"
            },
            {
              "guid": "fa579fc4-200d-465d-a2e0-77b7e8b4b417",
              "isDeleted": false,
              "sizeBytes": 7591468,
              "name": "Squish",
              "sharing": 2,
              "lastAccessedDate": "2018-03-08T08:23:33 -02:00"
            },
            {
              "guid": "08835ac9-ffaf-414b-860c-963e8e7744f7",
              "isDeleted": false,
              "sizeBytes": 62299048,
              "name": "Isologia",
              "sharing": 2,
              "lastAccessedDate": "2018-03-11T02:41:52 -02:00"
            },
            {
              "guid": "8414d488-249b-400a-a1a9-68a0a99e6677",
              "isDeleted": true,
              "sizeBytes": 23578231,
              "name": "Cuizine",
              "sharing": 3,
              "lastAccessedDate": "2018-03-08T06:42:15 -02:00"
            },
            {
              "guid": "a4f8ad22-3be5-4e59-bafe-8df33e1c635e",
              "isDeleted": true,
              "sizeBytes": 90347535,
              "name": "Flyboyz",
              "sharing": 1,
              "lastAccessedDate": "2018-03-06T10:14:49 -02:00"
            },
            {
              "guid": "b25fdaab-7aac-4427-b6d8-e3f0c50d6455",
              "isDeleted": false,
              "sizeBytes": 122696,
              "name": "Zensure",
              "sharing": 2,
              "lastAccessedDate": "2018-03-08T09:29:43 -02:00"
            },
            {
              "guid": "1235a226-bd7c-4b58-83ef-f775ee3b1f4e",
              "isDeleted": false,
              "sizeBytes": 11430859,
              "name": "Isotrack",
              "sharing": 2,
              "lastAccessedDate": "2018-03-06T07:30:21 -02:00"
            },
            {
              "guid": "0e29d8eb-c470-4e3f-b30e-e8affb354c85",
              "isDeleted": false,
              "sizeBytes": 89002672,
              "name": "Snips",
              "sharing": 2,
              "lastAccessedDate": "2018-03-08T12:43:05 -02:00"
            },
            {
              "guid": "c67f22f2-e1e4-4fb6-8c88-171000b4d159",
              "isDeleted": true,
              "sizeBytes": 76578936,
              "name": "Interloo",
              "sharing": 3,
              "lastAccessedDate": "2018-03-03T10:05:01 -02:00"
            },
            {
              "guid": "054016ac-b1cd-4053-81b1-5b9ee8735bf3",
              "isDeleted": false,
              "sizeBytes": 91038671,
              "name": "Zuvy",
              "sharing": 1,
              "lastAccessedDate": "2018-03-09T03:27:50 -02:00"
            }
          ];

          this.sharingTypes = ['Public', 'Shared', 'Private'];
          this.months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov','Dec'];
    }

    formatDate(apiDate) {
        if(apiDate.length <= 12) {
            return apiDate
        } else {
            let date = apiDate.split("T")[0].split('-');
            let year = date[0];
            let day = date[1];
            let month = parseInt(date[2]);
            return day + ' ' + this.months[month] + ' ' + year;
        }
    }

    formatFileSize(size) {
        let transformedSize = parseInt(size);
        if(parseInt(transformedSize/1000000) >= 1) {
            return parseInt(transformedSize/1000000) + ' MB';
        } else {
            return parseInt(transformedSize/1000) + ' kb';
        }
    }

    getSharingType(item) {
        return this.sharingTypes[item-1];
    }

    addFile(file) {
        this.files.unshift(file);
    }

    getAllFiles() {
        let activeFiles = this.files.filter((file)=>{
          return file.isDeleted === false;
        });
        return activeFiles;
    }
    getAllDeletedFiles() {
      let deletedFiles = this.files.filter((file)=>{
        return file.isDeleted === true;
      });
      return deletedFiles;
    }

    getAccesedLastDay() {
        let lastDayAccesed = this.files.filter((file)=>{
          let date = file.lastAccessedDate;
          let day = date.split('T')[0].split('-');
          if(day[0]==='2018' && day[1]==='03' && day[2]==='09') return true;
        });
        return lastDayAccesed;
    }

    deleteSelectedFiles(filesId) {
      for(let i=0;i<filesId.length;i++) {
        for (let j=0;j<this.files.length;j++) {
          if(this.files[j].guid === filesId[i]) {
            this.files[j].isDeleted = true;
          }
        }
      }
      let visibleFiles = this.getAllFiles();   
      return visibleFiles;

    }

    restoreSelectedFiles(files) {
      console.log("Suntem pe backend");
      console.log("Vrem sa facem restore la urmatoarele fisiere: ");
      console.log(files);
    }

    getFilesBasedOnKeyWord(keyword) {
      let stringFiles = this.files.filter((file)=>{
          let name = file.name;
          if(name.toLocaleLowerCase().indexOf(keyword.toLocaleLowerCase()) !== -1 && file.isDeleted===false) return true;         
      });
      return stringFiles;
    }
}
export default new DataBaseFiles();